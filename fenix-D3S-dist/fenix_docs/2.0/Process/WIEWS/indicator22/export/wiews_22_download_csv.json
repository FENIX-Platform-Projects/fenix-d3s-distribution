{
  "outConfig" : {
    "plugin" : "wiewsOutputCSV"
  },
  "flow" : [
    {
      "name": "wiews_area_filter",
      "sid": [ { "uid": "wiews_region_mapping" },{ "uid": "wiews_region_countries" } ],
      "rid" : { "uid" : "area_selection" },
      "result" : false,
      "parameters": {
        "filter" : {
          "m49": {
            "codes": [
              {
                "uid": "wiews_m49_region_only",
                "codes": [ "WITC","1" ]
              }
            ]
          }
        }
      }
    },

    {
      "sid": [ { "uid": "indicator22" }, { "uid": "area_selection" } ],
      "name": "filter",
      "parameters": {
        "columns": [
          "domain",
          "wiews_region",
          "indicator",
          "iteration",
          "value",
          "um",
          "element",
          "stakeholder",
          "rank"
        ],
        "rows": {
          "iteration": {
            "codes": [
              {
                "uid": "wiews_iteration",
                "codes": [ "1" ]
              }
            ]
          },
          "element": {
            "codes": [
              {
                "uid": "wiews_elements",
                "codes": [ "ind", "nfp", "nfpa", "stk" ]
              }
            ]
          },
          "wiews_region" : {
            "variable" : "required_countries"
          }
        }
      }
    },

    {
      "name":"addcolumn",
      "parameters":{
        "column":{
          "dataType":"text",
          "id":"indicator_label",
          "title":{
            "EN":"Indicator"
          }
        },
        "value": {
          "keys": [
            "element = 'stk'", "element <> 'stk'"
          ],
          "values": [
            "@@direct'Indicator (' || stakeholder || ' / ' || stakeholder_en || ')'","@@directelement_en"
          ]
        }
      }
    },
    {
      "name":"order",
      "parameters":{
        "iteration":"ASC",
        "rank":"ASC",
        "wiews_region":"ASC",
        "indicator":"ASC",
        "indicator_label":"ASC"
      }
    },
    {
      "name": "columns",
      "parameters" : {
        "columns" : [
          "domain",
          "wiews_region",
          "indicator",
          "indicator_label",
          "iteration",
          "value",
          "um"
        ]
      }
    }
  ]
}
