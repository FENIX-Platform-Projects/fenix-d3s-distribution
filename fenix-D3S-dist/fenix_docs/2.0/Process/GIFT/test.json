[
  {
    "name": "filter",
    "sid": [
      {
        "uid": "GIFT_afc_000253UGA201001"
      }
    ],
    "parameters": {
      "rows": {
        "item": {
          "codes": [
            {
              "uid": "GIFT_Items",
              "codes": [
                "CARBOH",
                "PROTEIN",
                "FAT"
              ]
            }
          ]
        }
      }
    }
  },
  {
    "name": "gift_population_filter",
    "parameters": {
      "special_condition": [
        "1",
        "2",
        "3",
        "4"
      ],
      "age_year": {
        "from": 0,
        "to": 120
      },
      "item": null
    }
  },
  {
    "name": "group",
    "parameters": {
      "by": [
        "item"
      ],
      "aggregations": [
        {
          "columns": [
            "value"
          ],
          "rule": "SUM"
        }
      ]
    }
  },
  {
    "name": "select",
    "parameters": {
      "values": {
        "item": null,
        "value": "case when item='CARBOH' then value*4 when item='PROTEIN' then value*4 when item='FAT' then value*9 end"
      }
    }
  },
  {
    "name": "addcolumn",
    "parameters": {
      "column": {
        "dataType": "code",
        "id": "um",
        "subject": "um",
        "title": {
          "EN": "Unit of measure"
        },
        "domain": {
          "codes": [
            {
              "idCodeList": "GIFT_UM"
            }
          ]
        }
      },
      "value": "kcal"
    }
  }
]