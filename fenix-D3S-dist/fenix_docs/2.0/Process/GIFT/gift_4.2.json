[
  {
    "name": "filter",
    "sid" : [{"uid":"gift_process_total_food_consumption_000042BUR201001"}],
    "parameters": {
      "columns": [
        "subject",
        "group_code",
        "subgroup_code"
      ],
      "rows": {
        "item": {
          "codes": [
            {
              "uid": "GIFT_Items",
              "codes": [ "FOOD_AMOUNT_PROC" ]
            }
          ]
        },
        "!group_code": {
          "codes": [
            {
              "uid": "GIFT_FoodGroups",
              "codes": [ "14" ]
            }
          ]
        }
      }
    }
  },

  {
    "name": "group",
    "parameters": {
      "by": [
        "subject",
        "group_code",
        "subgroup_code"
      ]
    }
  },

  {
    "name": "addcolumn",
    "rid" : {"uid" : "table_1_2_Increment"},
    "parameters": {
      "column": {
        "dataType": "number",
        "id": "increment",
        "subject" : "value"
      },
      "value": 1
    }
  },

  {
    "name": "group",
    "parameters": {
      "by": [
        "subject"
      ],
      "aggregations": [
        {
          "columns": [ "increment" ],
          "rule": "max"
        }
      ]
    }
  },

  {
    "name": "group",
    "parameters": {
      "aggregations": [
        {
          "columns": [ "increment" ],
          "rule": "sum"
        }
      ]
    }
  },

  {
    "name" : "var",
    "result" : false,
    "parameters" : {
      "global" : true,
      "variables" : [
        {
          "key" : "populationSize",
          "type" : "id",
          "value" : "increment"
        }
      ]
    }
  },





  {
    "name": "group",
    "sid" : [{"uid":"table_1_2_Increment"}],
    "parameters": {
      "by": [
        "group_code",
        "subgroup_code"
      ],
      "aggregations": [
        {
          "columns": [ "increment" ],
          "rule": "sum"
        }
      ]
    }
  },

  {
    "name" : "select",
    "parameters" : {
      "values" : {
        "group_code" : null,
        "subgroup_code" : null,
        "increment" : "((increment*100)::float)/<<populationSize[0]>>"
      }
    }
  },

  {
    "name": "filter",
    "parameters": {
      "columns": [
        "subgroup_code",
        "increment"
      ],
      "rows": {
        "group_code": {
          "codes": [
            {
              "uid": "GIFT_FoodGroups",
              "codes": [ "01" ]
            }
          ]
        }
      }
    }
  }
]